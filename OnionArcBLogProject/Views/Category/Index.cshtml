@model List<Category>
@using OnionArcBLogProject.Entities.Enum

@{
    ViewData["Title"] = "Kategoriler";
}
@{
    foreach (Category category in Model)
    {
        <article class="col-12 col-md-6 tm-post">
            <hr class="tm-hr-primary">
            <a asp-action="ShowPosts" asp-controller="Category" asp-area="" asp-route-id="@category.Id" class="effect-lily tm-post-link tm-pt-10">
                <div class="tm-post-link-inner">
                    <img src="~/FrontTemplate/img/img-01.jpg" alt="Image" class="img-fluid">
                </div>
                @if (category.CreatedDate.Value.AddDays(5) >= DateTime.Now)
                {
                    <span class="position-absolute tm-new-badge">Yeni</span>
                }
                
                <h2 class="tm-pt-20 tm-color-primary tm-post-title">@category.CategoryName</h2>
            </a>
            <p class="tm-pt-15">
                @category.CategoryDescription
            </p>
            <div class="d-flex justify-content-between tm-pt-45">
                    @{int count=0;}
                @foreach (var item in category.Posts)
                {
                    if (item.Status == Status.Active)
                    {
                        count += 1;
                    }
                }
                <span class="tm-color-primary">Bu kategoride @count adet post bulunuyor</span>
                <span class="tm-color-primary">Bu kategori @category.CreatedDate.Value.ToShortDateString() tarihinde oluşturuldu</span>
            </div>
            <hr>
            <div class="d-flex justify-content-between">
                <span></span>
                <span></span>
            </div>
        </article>
    }
    
}




